<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.05c315b3f2d00edfe12c.css" id="gatsby-global-css">@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100-8d7d79679b70dbe27172b6460e7a7910.woff2) format("woff2"),url(/static/montserrat-latin-100-ec38980a9e0119a379e2a9b3dbb1901a.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic-e279051046ba1286706adc886cf1c96b.woff2) format("woff2"),url(/static/montserrat-latin-100italic-3b325a3173c8207435cd1b76e19bf501.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200-9d266fbbfa6cab7009bd56003b1eeb67.woff2) format("woff2"),url(/static/montserrat-latin-200-2d8ba08717110d27122e54c34b8a5798.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic-6e5b3756583bb2263eb062eae992735e.woff2) format("woff2"),url(/static/montserrat-latin-200italic-a0d6f343e4b536c582926255367a57da.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300-00b3e893aab5a8fd632d6342eb72551a.woff2) format("woff2"),url(/static/montserrat-latin-300-ea303695ceab35f17e7d062f30e0173b.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic-56f34ea368f6aedf89583d444bbcb227.woff2) format("woff2"),url(/static/montserrat-latin-300italic-54b0bf2c8c4c12ffafd803be2466a790.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400-b71748ae4f80ec8c014def4c5fa8688b.woff2) format("woff2"),url(/static/montserrat-latin-400-0659a9f4e90db5cf51b50d005bff1e41.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic-6eed6b4cbb809c6efc7aa7ddad6dbe3e.woff2) format("woff2"),url(/static/montserrat-latin-400italic-7583622cfde30ae49086d18447ab28e7.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500-091b209546e16313fd4f4fc36090c757.woff2) format("woff2"),url(/static/montserrat-latin-500-edd311588712a96bbf435fad264fff62.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic-c90ced68b46050061d1a41842d6dfb43.woff2) format("woff2"),url(/static/montserrat-latin-500italic-5146cbfe02b1deea5dffea27a5f2f998.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600-0480d2f8a71f38db8633b84d8722e0c2.woff2) format("woff2"),url(/static/montserrat-latin-600-b77863a375260a05dd13f86a1cee598f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic-cf46ffb11f3a60d7df0567f8851a1d00.woff2) format("woff2"),url(/static/montserrat-latin-600italic-c4fcfeeb057724724097167e57bd7801.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700-7dbcc8a5ea2289d83f657c25b4be6193.woff2) format("woff2"),url(/static/montserrat-latin-700-99271a835e1cae8c76ef8bba99a8cc4e.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic-c41ad6bdb4bd504a843d546d0a47958d.woff2) format("woff2"),url(/static/montserrat-latin-700italic-6779372f04095051c62ed36bc1dcc142.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800-db9a3e0ba7eaea32e5f55328ace6cf23.woff2) format("woff2"),url(/static/montserrat-latin-800-4e3c615967a2360f5db87d2f0fd2456f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic-bf45bfa14805969eda318973947bc42b.woff2) format("woff2"),url(/static/montserrat-latin-800italic-fe82abb0bcede51bf724254878e0c374.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900-e66c7edc609e24bacbb705175669d814.woff2) format("woff2"),url(/static/montserrat-latin-900-8211f418baeb8ec880b80ba3c682f957.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic-4454c775e48152c1a72510ceed3603e2.woff2) format("woff2"),url(/static/montserrat-latin-900italic-efcaa0f6a82ee0640b83a0916e6e8d68.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-fc117160c69a8ea0851b26dd14748ee4.woff2) format("woff2"),url(/static/merriweather-latin-300-58b18067ebbd21fda77b67e73c241d3b.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-fe29961474f8dbf77c0aa7b9a629e4bc.woff2) format("woff2"),url(/static/merriweather-latin-300italic-23c3f1f88683618a4fb8d265d33d383a.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-d9479e8023bef9cbd9bf8d6eabd6bf36.woff2) format("woff2"),url(/static/merriweather-latin-400-040426f99ff6e00b86506452e0d1f10b.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-2de7bfeaf08fb03d4315d49947f062f7.woff2) format("woff2"),url(/static/merriweather-latin-400italic-79db67aca65f5285964ab332bd65f451.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-4b08e01d805fa35d7bf777f1b24314ae.woff2) format("woff2"),url(/static/merriweather-latin-700-22fb8afba4ab1f093b6ef9e28a9b6e92.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-cd92541b177652fffb6e3b952f1c33f1.woff2) format("woff2"),url(/static/merriweather-latin-700italic-f87f3d87cea0dd0979bfc8ac9ea90243.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-f813fc6a4bee46eda5224ac7ebf1b7be.woff2) format("woff2"),url(/static/merriweather-latin-900-5d4e42cb44410674acd99153d57df032.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-b7901d85486871c1779c0e93ddd85656.woff2) format("woff2"),url(/static/merriweather-latin-900italic-9647f9fdab98756989a8a5550eb205c3.woff) format("woff")}


/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden]{display:none}:root{--maxWidth-none:"none";--maxWidth-xs:20rem;--maxWidth-sm:24rem;--maxWidth-md:28rem;--maxWidth-lg:32rem;--maxWidth-xl:36rem;--maxWidth-2xl:42rem;--maxWidth-3xl:48rem;--maxWidth-4xl:56rem;--maxWidth-full:"100%";--maxWidth-wrapper:var(--maxWidth-2xl);--spacing-px:"1px";--spacing-0:0;--spacing-1:0.25rem;--spacing-2:0.5rem;--spacing-3:0.75rem;--spacing-4:1rem;--spacing-5:1.25rem;--spacing-6:1.5rem;--spacing-8:2rem;--spacing-10:2.5rem;--spacing-12:3rem;--spacing-16:4rem;--spacing-20:5rem;--spacing-24:6rem;--spacing-32:8rem;--fontFamily-sans:Montserrat,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--fontFamily-serif:"Merriweather","Georgia",Cambria,"Times New Roman",Times,serif;--font-body:var(--fontFamily-sans);--font-heading:var(--fontFamily-sans);--fontWeight-normal:400;--fontWeight-medium:500;--fontWeight-semibold:600;--fontWeight-bold:700;--fontWeight-extrabold:800;--fontWeight-black:900;--fontSize-root:16px;--lineHeight-none:1;--lineHeight-tight:1.1;--lineHeight-normal:1.5;--lineHeight-relaxed:1.625;--fontSize-0:0.833rem;--fontSize-1:1rem;--fontSize-2:1.2rem;--fontSize-3:1.44rem;--fontSize-4:1.728rem;--fontSize-5:2.074rem;--fontSize-6:2.488rem;--fontSize-7:2.986rem;--color-primary:#73a3bc;--color-text:#2e353f;--color-text-light:#4f5969;--color-heading:#1a202c;--color-heading-black:#000;--color-accent:#d1dce5}*,:after,:before{box-sizing:border-box}html{line-height:var(--lineHeight-normal);font-size:var(--fontSize-root);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}footer{padding:var(--spacing-6) var(--spacing-0)}hr{background:var(--color-accent);height:1px;border:0}h1,h2,h3,h4,h5,h6{font-family:var(--font-heading);margin-top:var(--spacing-12);margin-bottom:var(--spacing-6);line-height:var(--lineHeight-tight);letter-spacing:-.025em}h2,h3,h4,h5,h6{font-weight:var(--fontWeight-bold)}h1,h2,h3,h4,h5,h6{color:var(--color-heading)}h1{font-weight:var(--fontWeight-black);font-size:var(--fontSize-6)}h2{font-size:var(--fontSize-5)}h3{font-size:var(--fontSize-4)}h4{font-size:var(--fontSize-3)}h5{font-size:var(--fontSize-2)}h6{font-size:var(--fontSize-1)}h1>a,h2>a,h3>a,h4>a,h5>a,h6>a{color:inherit;text-decoration:none}p{line-height:var(--lineHeight-relaxed);--baseline-multiplier:0.179;--x-height-multiplier:0.35;margin:var(--spacing-0) var(--spacing-0) var(--spacing-8) var(--spacing-0)}ol,p,ul{padding:var(--spacing-0)}ol,ul{margin-left:var(--spacing-0);margin-right:var(--spacing-0);margin-bottom:var(--spacing-8);list-style-position:outside;list-style-image:none}ol li,ul li{padding-left:var(--spacing-0)}li>p,ol li,ul li{margin-bottom:calc(var(--spacing-8)/2)}li :last-child{margin-bottom:var(--spacing-0)}li>ul{margin-left:var(--spacing-8);margin-top:calc(var(--spacing-8)/2)}blockquote{color:var(--color-text-light);margin-left:calc(var(--spacing-6)*-1);margin-right:var(--spacing-8);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-6);border-left:var(--spacing-1) solid var(--color-primary);font-size:var(--fontSize-2);font-style:italic;margin-bottom:var(--spacing-8)}blockquote>:last-child{margin-bottom:var(--spacing-0)}blockquote>ol,blockquote>ul{list-style-position:inside}table{width:100%;margin-bottom:var(--spacing-8);border-collapse:collapse;border-spacing:.25rem}table thead tr th{border-bottom:1px solid var(--color-accent)}a{color:var(--color-primary)}a:focus,a:hover{text-decoration:none}.global-wrapper{margin:var(--spacing-0) auto;max-width:var(--maxWidth-wrapper);padding:var(--spacing-10) var(--spacing-5)}.global-wrapper[data-is-root-path=true] .bio{margin-bottom:var(--spacing-20)}.global-header{margin-bottom:var(--spacing-12)}.main-heading{font-size:var(--fontSize-7);margin:0}.post-list-item{margin-bottom:var(--spacing-8);margin-top:var(--spacing-8)}.post-list-item p{margin-bottom:var(--spacing-0)}.post-list-item h2{font-size:var(--fontSize-4);color:var(--color-primary);margin-bottom:var(--spacing-2);margin-top:var(--spacing-0)}.post-list-item header{margin-bottom:var(--spacing-4)}.header-link-home{font-weight:var(--fontWeight-bold);font-family:var(--font-heading);text-decoration:none;font-size:var(--fontSize-2)}.bio{display:flex;margin-bottom:var(--spacing-16)}.bio-avatar,.bio p{margin-bottom:var(--spacing-0)}.bio-avatar{margin-right:var(--spacing-4);min-width:50px;border-radius:100%}.blog-post header h1{margin:var(--spacing-0) var(--spacing-0) var(--spacing-4) var(--spacing-0)}.blog-post header p{font-size:var(--fontSize-2);font-family:var(--font-heading)}.blog-post-nav ul{margin:var(--spacing-0)}.gatsby-highlight{margin-bottom:var(--spacing-8)}@media (max-width:42rem){blockquote{padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-4);margin-left:var(--spacing-0)}ol,ul{list-style-position:inside}}body{font-family:var(--font-body);font-size:var(--fontSize-1);color:var(--color-text);--bg:#fff;--textNormal:#222;--textTitle:#222;--textLink:#00f;--hr:rgba(0,0,0,0.2);background-color:var(--bg)}body.dark{-webkit-font-smoothing:antialiased;color:#fff;--bg:#000;--textNormal:hsla(0,0%,100%,0.88);--textTitle:#fff;--textLink:#ff0;--hr:hsla(0,0%,100%,0.2);--color-heading:#fff;--color-primary:#fff}.themeSwitchStyles{align-items:center;color:#fff;display:flex;font-size:1rem;font-family:var(--fontFamily-sans);height:100%;justify-content:center}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><meta name="generator" content="Gatsby 3.4.0"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=fa8ab67fbdfa9efe8070da91c45a04b9" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=fa8ab67fbdfa9efe8070da91c45a04b9"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=fa8ab67fbdfa9efe8070da91c45a04b9"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=fa8ab67fbdfa9efe8070da91c45a04b9"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=fa8ab67fbdfa9efe8070da91c45a04b9"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=fa8ab67fbdfa9efe8070da91c45a04b9"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=fa8ab67fbdfa9efe8070da91c45a04b9"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=fa8ab67fbdfa9efe8070da91c45a04b9"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=fa8ab67fbdfa9efe8070da91c45a04b9"/><title data-react-helmet="true">Setting up a home server from scratch | AL&#x27;s Blog</title><meta data-react-helmet="true" name="description" content="While I already had a decent understanding of how the internet works, I rarely had practical ways to apply that knowledge. Sure, I knew the terms “DNS”, “Name…"/><meta data-react-helmet="true" property="og:title" content="Setting up a home server from scratch"/><meta data-react-helmet="true" property="og:description" content="While I already had a decent understanding of how the internet works, I rarely had practical ways to apply that knowledge. Sure, I knew the terms “DNS”, “Name…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content=""/><meta data-react-helmet="true" name="twitter:title" content="Setting up a home server from scratch"/><meta data-react-helmet="true" name="twitter:description" content="While I already had a decent understanding of how the internet works, I rarely had practical ways to apply that knowledge. Sure, I knew the terms “DNS”, “Name…"/><link as="script" rel="preload" href="/webpack-runtime-cb6eb17b8ee53b06288c.js"/><link as="script" rel="preload" href="/framework-b0730249fd77f5b9623d.js"/><link as="script" rel="preload" href="/app-b78642e94adcb3326a00.js"/><link as="script" rel="preload" href="/commons-5e8e02fec98d632e2373.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-7d21020ee7849f206bf2.js"/><link as="fetch" rel="preload" href="/page-data/2020-05-27-setup-https-nas/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2841359383.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3257411868.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>
void function() {
  window.__onThemeChange = function() {}

  var preferredTheme
  try {
    preferredTheme = localStorage.getItem('theme')
  } catch (err) { }

  function setTheme(newTheme) {
    if (preferredTheme && document.body.classList.contains(preferredTheme)) {
      document.body.classList.replace(preferredTheme, newTheme)
    } else {
      document.body.classList.add(newTheme)
    }

    window.__theme = newTheme
    preferredTheme = newTheme
    window.__onThemeChange(newTheme)
  }

  window.__setPreferredTheme = function(newTheme) {
    setTheme(newTheme)
    try {
      localStorage.setItem('theme', newTheme)
    } catch (err) {}
  }

  var darkQuery = window.matchMedia('(prefers-color-scheme: dark)')
  darkQuery.addListener(function(e) {
    window.__setPreferredTheme(e.matches ? 'dark' : 'light')
  })

  setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'))
}()
    </script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="global-wrapper" data-is-root-path="false"><header class="global-header"><div style="display:flex;flex-direction:row;justify-content:space-between"><a class="header-link-home" href="/">AL&#x27;s Blog</a><label><div style="position:relative;display:inline-block;text-align:left;opacity:1;direction:ltr;border-radius:14px;-webkit-transition:opacity 0.25s;-moz-transition:opacity 0.25s;transition:opacity 0.25s;touch-action:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none"><div class="react-switch-bg" style="height:28px;width:56px;margin:0;position:relative;background:#000000;border-radius:14px;cursor:pointer;-webkit-transition:background 0.25s;-moz-transition:background 0.25s;transition:background 0.25s"><div style="height:28px;width:30px;position:relative;opacity:0;pointer-events:none;-webkit-transition:opacity 0.25s;-moz-transition:opacity 0.25s;transition:opacity 0.25s"><div class="themeSwitchStyles">L</div></div><div style="height:28px;width:30px;position:absolute;opacity:1;right:0;top:0;pointer-events:none;-webkit-transition:opacity 0.25s;-moz-transition:opacity 0.25s;transition:opacity 0.25s"><div class="themeSwitchStyles">D</div></div></div><div class="react-switch-handle" style="height:26px;width:26px;background:#ffffff;display:inline-block;cursor:pointer;border-radius:50%;position:absolute;transform:translateX(1px);top:1px;outline:0;border:0;-webkit-transition:background-color 0.25s, transform 0.25s, box-shadow 0.15s;-moz-transition:background-color 0.25s, transform 0.25s, box-shadow 0.15s;transition:background-color 0.25s, transform 0.25s, box-shadow 0.15s"></div><input type="checkbox" role="switch" aria-checked="false" style="border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px"/></div></label></div></header><main><article class="blog-post" itemscope="" itemType="http://schema.org/Article"><header><h1 itemProp="headline">Setting up a home server from scratch</h1><p>May 27, 2020</p></header><section itemProp="articleBody"><p>While I already had a decent understanding of how the internet works, I rarely had practical ways to apply that knowledge. Sure, I knew the terms “DNS”, “Name Servers”, “Firewalls”, etc, and generally knew how they all worked together, but I had never end-to-end configured a bare metal server to host a website. In retrospect, configuring a server from scratch proved to be a great learning experience.</p>
<h2>Context:</h2>
<p>I had an old $50 HP 8300 SFF desktop computer, an old but plenty-capable machine with it’s i5 intel processor and 8GB of RAM. I was already using it to host a Plex Media server, Calibre-Web server, and a few other web services on this machine. It had been chugging along for many months now, and has been great to work with.</p>
<p>However, my past self had unfortunately set it up with desktop Ubuntu without SSH, which led to requiring the GUI for to administer this machine. Not being able to do remote administration was a constant friction point, especially since the device was in the far corner of my living room.</p>
<h2>Goals:</h2>
<p>So the goals I laid out were the following:</p>
<ol>
<li>Install Ubuntu Server LTS (at the time of this post, 20.04 LTS is the latest version)</li>
<li>Setup SSH for remote administration</li>
<li>Setup Nginx, a firewall, and port forwarding for to enable hosting a site</li>
<li>Enable Dynamic DNS so that I could map a domain name to my server</li>
<li>Setup HTTPS with a Let’s Encrypt certificate + autorenewal</li>
<li>Host some static HTML via nginx and have a fully functional site up and running</li>
</ol>
<h2>Equipment:</h2>
<ul>
<li>Computer to use as a Server (an old desktop, laptop, etc)</li>
<li>Internet Router where you can setup Port Forwarding</li>
<li>Domain name via a registrar (I used Namecheap)</li>
<li>USB/DVD/etc - for to setup OS install media. Use whatever is appropriate for your machine</li>
<li>(optional, but recommended) Personal use computer for remote administration of the server (this personal computer must be able to SSH into remote machines)</li>
</ul>
<h2>Steps</h2>
<p>Part 1: Setup your server</p>
<ol>
<li>Download and setup a Ubuntu Server USB installer</li>
<li>Boot your server, and boot the installer via USB</li>
<li>Install Ubuntu server, setup your login info, etc</li>
<li>Once setup, you should be able to login to the device on boot</li>
</ol>
<p>Part 2: Setup SSH keys / Disable SSH Password login</p>
<ol>
<li>Create an SSH Key on the machine you’ll be using for remote administration</li>
<li>Copy the public key file of your generated SSH key (by default, it’s at <code class="language-text">~/.ssh/id_rsa.pub</code> on your machine). You will need to transfer a copy of this file to your server, how you choose to do so is up to you.</li>
<li>Take the contents of the public key file, and appended it to the end of the <code class="language-text">/home/username_here/.ssh/authorized_keys</code> file on the Server</li>
<li>To test and make sure this worked, attempt to SSH into your server. To do so, first, figure out the server’s address on your local LAN (it should look something like <code class="language-text">192.168.XX.XX</code>)</li>
<li>after figuring out your server’s address on your local LAN, on your remote administration machine attempt the following:</li>
</ol>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">ssh username_goes_here@server_LAN_address_here
e.g.
ssh aarron@192.168.XX.XX</code></pre></div>
<p>Since you setup SSH keys, it should auto-log you in.</p>
<ol start="6">
<li>Once your SSH keys are setup, time to disable SSH password login. Edit your <code class="language-text">/etc/ssh/sshd_config</code> file on your server, and find + change to the following:</li>
</ol>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">ChallengeResponseAuthentication no
PasswordAuthentication no
UsePAM no
PermitRootLogin no</code></pre></div>
<p>After saving your changes, run <code class="language-text">sudo service sshd restart</code> and <code class="language-text">sudo service ssh restart</code></p>
<ol start="7">
<li>To verify the changes, attempt <code class="language-text">ssh root@LAN_address_here</code>. It should fail</li>
</ol>
<p>Part 3: Setup NGINX, firewall, and port forwarding</p>
<ol>
<li>Install nginx with <code class="language-text">sudo apt install nginx</code></li>
<li>Start nginx with <code class="language-text">sudo service nginx start</code></li>
<li>To make sure it’s working, go to <code class="language-text">http://192.168.XX.XX:80</code> in your browser, it should display the nginx default page. If you’d like to change the static HTML pages being served by nginx, you can change your files located at <code class="language-text">/var/www/html</code>. If you want to host a web app, you’ll need to edit your <code class="language-text">nginx.conf</code> file accordingly</li>
<li>Once we confirmed that it’s working, we now need to setup a firewall (we’ll use a simple firewall, <code class="language-text">ufw</code>. feel free to use whatever you’re comfortable with)</li>
<li>run <code class="language-text">sudo ufw enable</code>.</li>
<li>enable SSH by running <code class="language-text">sudo ufw allow ssh</code></li>
<li>Check to see if the firewall is still working. If you revisit <code class="language-text">http://192.168.XX.XX:80</code>, your firewall should now be blocking the standard HTTP port</li>
<li>to reenable HTTP, run <code class="language-text">sudo ufw allow http</code></li>
<li>Revisit the url and make sure the webpage now renders</li>
<li>Now that your server is properly serving HTTP requests on the expected port, we now need to port forward from your network gateway (e.g. your home router, etc) to your server. Look up how to port forward on your router, and forward port 80 to the server</li>
<li>To verify that this worked, first figure out your public IP (you can visit <a href="https://domains.google.com/checkip">https://domains.google.com/checkip</a>) in a browser. Then, in your browser, type in your public IP address, it should display the nginx default page.</li>
</ol>
<p>Part 4: Setup Domain Name</p>
<ol>
<li>Purchase a domain name of your choice from your preferred provider. I went with namecheap</li>
<li>Setup a Dynamic DNS record according to your provider. Depending on your provider, there are different ways to do so. I’ll be detailing how to handle namecheap, specifically, in the following instructions</li>
<li>Go to the <code class="language-text">Advanced DNS</code> and enable Dynamic DNS. Copy down this password some place secure, you’ll need this later.</li>
<li>On <code class="language-text">Advanced DNS</code> page, create 2 dynamic DNS entries:</li>
<li>Host: @, value: 127.0.0.1 (we’ll change this later), TTL: Automatic</li>
<li>Host: www, value: 127.0.0.1 (same, we’ll change later), TTL: Automatic</li>
</ol>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/6691b8d195b663711bc84b196af80847/03073/dns.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAceagD//xAAYEAADAQEAAAAAAAAAAAAAAAABEBEAIf/aAAgBAQABBQLdBVq//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFxAAAwEAAAAAAAAAAAAAAAAAARARIP/aAAgBAQAGPwLFK//EABkQAQACAwAAAAAAAAAAAAAAAAEAEBFBUf/aAAgBAQABPyGZ4m1LY1//2gAMAwEAAgADAAAAEDAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhABAAMAAwAAAAAAAAAAAAAAAQARUSExQf/aAAgBAQABPxBch7h6UkbWPFVkTJfYy2f/2Q=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Advanced DNS setup"
        title="Advanced DNS setup"
        src="/static/6691b8d195b663711bc84b196af80847/828fb/dns.jpg"
        srcset="/static/6691b8d195b663711bc84b196af80847/ff44c/dns.jpg 158w,
/static/6691b8d195b663711bc84b196af80847/a6688/dns.jpg 315w,
/static/6691b8d195b663711bc84b196af80847/828fb/dns.jpg 630w,
/static/6691b8d195b663711bc84b196af80847/0ede0/dns.jpg 945w,
/static/6691b8d195b663711bc84b196af80847/03073/dns.jpg 976w"
        sizes="(max-width: 630px) 100vw, 630px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<ol start="5">
<li>We’re going to setup dynamic DNS with <a href="https://github.com/ddclient/ddclient">ddclient</a> in a Docker container. To do so, first install the docker daemon + other utils, including docker-compose (you can look up this part)</li>
<li>Once you have docker installed, we’re going to use the following <code class="language-text">docker-compose.yml</code> file:</li>
</ol>
<div class="gatsby-highlight" data-language="yml"><pre class="language-yml"><code class="language-yml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3.7'</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">ddclient</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> linuxserver/ddclient
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> ddclient
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> PUID=1000
      <span class="token punctuation">-</span> PGID=1000
      <span class="token punctuation">-</span> TZ=America/New_York
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token comment"># NOTE: make sure to replace the filepath with a place</span>
      <span class="token comment"># where you want to store the ddclient config files</span>
      <span class="token punctuation">-</span> /filepath_on_server_machine<span class="token punctuation">:</span>/config
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> unless<span class="token punctuation">-</span>stopped</code></pre></div>
<ol start="7">
<li>once your <code class="language-text">docker-compose.yml</code> file is setup, run <code class="language-text">sudo docker-compose up -d</code>, which should spin up a ddclient container.</li>
<li>confirm that there is now a <code class="language-text">ddclient.conf</code> file inside the filepath you specified on the server. Once you confirm that the file is there, run <code class="language-text">sudo docker-compose down</code> to stop the contianer.</li>
<li>Find the <code class="language-text">namecheap</code> entry in the <code class="language-text">ddclient.conf</code> file, and edit it to as follows:</li>
</ol>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">use=web, web=https://dynamicdns.park-your-domain.com/getip
protocol=namecheap
server=dynamicdns.park-your-domain.com
login=your_url_goes_here
password=advanced_dns_password_here
@, www</code></pre></div>
<ol start="10">
<li>Save you changes, run <code class="language-text">sudo docker-compose up -d</code> again. Run <code class="language-text">sudo docker logs ddclient</code>, you should see a message similar to this:</li>
</ol>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">SUCCESS:  updating @: good: IP address set to your_public_ip_address
SUCCESS:  updating www: good: IP address set to your_public_ip_address</code></pre></div>
<p>Your Namecheap DNS entries should have also been updated to the new IP address. You should now be able to visit your url (no HTTPS yet)</p>
<p>Part 5: setup SSL certificate for HTTPS</p>
<ol>
<li>Now that HTTP is working properly, we can now setup HTTPS.</li>
<li>This part is fairly straightforward with <a href="https://certbot.eff.org/">certbot</a>, which is what we’ll be using here.</li>
<li>Before running certbot, edit your <code class="language-text">server_name</code> in the <code class="language-text">/etc/nginx/sites-available/default</code> file, as seen below:</li>
</ol>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text"> # change server_name to have a list of your urls
 server_name your_root_url_without_www your_url_with_www
 e.g.
 server_name test.com www.test.com</code></pre></div>
<p>Restart your nginx service after saving this change with <code class="language-text">sudo service nginx restart</code></p>
<ol start="4">
<li>after your server_name is updated, install certbot via the instructions at the official certbot site.</li>
<li>after installation, run <code class="language-text">sudo certbox --nginx</code>, and follow the prompts</li>
<li>run <code class="language-text">sudo ufw allow https</code>, and setup port forwarding on your router for port 443</li>
<li>You should now have a valid SSL cert for your website, go revisit your website (but use <code class="language-text">https</code> instead), and it should just work!</li>
<li>(optional) you can enable HTTP2 by editing the following lines in your <code class="language-text">nginx.conf</code> to include <code class="language-text">http2</code>:</li>
</ol>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">  listen [::]:443 http2 ssl ipv6only=on; # managed by Certbot
  listen 443 http2 ssl; # managed by Certbot</code></pre></div>
<ol start="9">
<li>if you setup HTTP2, don’t forget to restart the nginx service!</li>
</ol>
<p>And with that, you should be fully hosting a website on your own server in your living room!</p></section><hr/><footer><div class="bio"><div data-gatsby-image-wrapper="" style="width:50px;height:50px" class="gatsby-image-wrapper bio-avatar"><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#180808;width:50px;height:50px;position:relative"></div><picture><source type="image/avif" data-srcset="/static/981a30b8fa58c3202a515edd93335e5f/d4bf4/profile-pic.avif 50w,/static/981a30b8fa58c3202a515edd93335e5f/ee81f/profile-pic.avif 100w" sizes="50px"/><source type="image/webp" data-srcset="/static/981a30b8fa58c3202a515edd93335e5f/3faea/profile-pic.webp 50w,/static/981a30b8fa58c3202a515edd93335e5f/6a679/profile-pic.webp 100w" sizes="50px"/><img data-gatsby-image-ssr="" layout="fixed" data-main-image="" style="opacity:0" sizes="50px" decoding="async" loading="lazy" data-src="/static/981a30b8fa58c3202a515edd93335e5f/d24ee/profile-pic.jpg" data-srcset="/static/981a30b8fa58c3202a515edd93335e5f/d24ee/profile-pic.jpg 50w,/static/981a30b8fa58c3202a515edd93335e5f/64618/profile-pic.jpg 100w" alt="Profile picture"/></picture><noscript><picture><source type="image/avif" srcSet="/static/981a30b8fa58c3202a515edd93335e5f/d4bf4/profile-pic.avif 50w,/static/981a30b8fa58c3202a515edd93335e5f/ee81f/profile-pic.avif 100w" sizes="50px"/><source type="image/webp" srcSet="/static/981a30b8fa58c3202a515edd93335e5f/3faea/profile-pic.webp 50w,/static/981a30b8fa58c3202a515edd93335e5f/6a679/profile-pic.webp 100w" sizes="50px"/><img data-gatsby-image-ssr="" layout="fixed" data-main-image="" style="opacity:0" sizes="50px" decoding="async" loading="lazy" src="/static/981a30b8fa58c3202a515edd93335e5f/d24ee/profile-pic.jpg" srcSet="/static/981a30b8fa58c3202a515edd93335e5f/d24ee/profile-pic.jpg 50w,/static/981a30b8fa58c3202a515edd93335e5f/64618/profile-pic.jpg 100w" alt="Profile picture"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div><p>Written By <strong>Aarron Lee</strong><p>I&#x27;m a Software Engineer based in NYC. This blog is basically a place where I&#x27;ll be writing down my own musings about technologies I use, new things I learn, etc.</p></p></div></footer></article><nav class="blog-post-nav"><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/2019-07-03-kubernetes-cheat-sheet/">← <!-- -->A Basic Cheat Sheet for Kubernetes terminology</a></li><li><a rel="next" href="/2021-02-24-ryzen-linux-laptop/">My Search for an Ideal Linux Laptop<!-- --> →</a></li></ul></nav></main><footer>© <!-- -->2021<!-- -->, Built with<!-- --> <a href="https://www.gatsbyjs.com">Gatsby</a></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2020-05-27-setup-https-nas/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-6d7c95643551b8008f28.js"],"app":["/app-b78642e94adcb3326a00.js"],"component---src-pages-404-js":["/component---src-pages-404-js-dd00fb755bf8f83c07bf.js"],"component---src-pages-index-js":[],"component---src-pages-using-typescript-tsx":["/component---src-pages-using-typescript-tsx-49030aed912216f022a1.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-7d21020ee7849f206bf2.js"]};/*]]>*/</script><script src="/polyfill-6d7c95643551b8008f28.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-7d21020ee7849f206bf2.js" async=""></script><script src="/commons-5e8e02fec98d632e2373.js" async=""></script><script src="/app-b78642e94adcb3326a00.js" async=""></script><script src="/framework-b0730249fd77f5b9623d.js" async=""></script><script src="/webpack-runtime-cb6eb17b8ee53b06288c.js" async=""></script></body></html>